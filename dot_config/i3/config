# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:FreeSans 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
font pango:DejaVu Sans Mono 8

# set_from_resource $fg i3wm.color7 #ff0f0
# set_from_resource $bg i3wm.color2 #ff6666
# #f0f0f0

# # class                 border  backgr. text indicator child_border
#  client.focused          $bg     $bg     $fg  $bg       $bg
#  client.focused_inactive $bg     $bg     $fg  $bg       $bg
#  client.unfocused        $bg     $bg     $fg  $bg       $bg
#  client.urgent           $bg     $bg     $fg  $bg       $bg
#  client.placeholder      $bg     $bg     $fg  $bg       $bg
#  client.background       $bg

client.background: #131822
client.focused: #aab0bc #131822 #aab0bc #233f66 #233f66
client.unfocused: #aab0bc #131822 #aab0bc #233f66 #233f66
client.focused_inactive: #aab0bc #131822 #aab0bc #233f66 #233f66
client.urgent: #aab0bc #131822 #aab0bc #233f66 #233f66
client.placeholder: #aab0bc #131822 #aab0bc #233f66 #233f6

# The combination of xss-lock, nm-applet and pactl is a popular choice, so
# they are included here as an example. Modify as you see fit.
exec_always --no-startup-id xmodmap -e "clear lock"
exec_always --no-startup-id xmodmap -e "keycode 66 = Escape NoSymbol Escape"
# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id /usr/bin/xss-lock -n /usr/lib/xsecurelock/dimmer -l -- /home/silipwn/Developments/Scripts/lock.sh
# xset s 300 1201
exec --no-startup-id xfce4-power-manager
# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet
# exec --no-startup-id xscreensaver
exec --no-startup-id unclutter
#exec --no-startup-id pulseaudio --start
# SafeEyes
exec safeeyes
# Custom set
set $exec exec --no-startup-id
# Feh Declarations
# set $feh exec --no-startup-id feh --bg-scale
# Use pactl to adjust volume in PulseAudio.
# Changed to pulseaudio-ctl
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume $exec /usr/bin/pulseaudio-ctl up
bindsym XF86AudioLowerVolume $exec /usr/bin/pulseaudio-ctl down
bindsym XF86AudioMute $exec /usr/bin/pulseaudio-ctl mute

# PlayerCtl based media control
bindsym XF86AudioPause $exec playerctl play-pause
bindsym XF86AudioNext $exec playerctl next
bindsym XF86AudioPrev $exec playerctl previous
bindsym $mod+m $exec playerctl play-pause
bindsym $mod+greater $exec playerctl next
bindsym $mod+less $exec playerctl previous
bindsym $mod+bracketleft $exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym $mod+bracketright $exec pactl set-sink-volume @DEFAULT_SINK@ +5%

# Mac control?
bindsym $mod+Shift+p $exec $HOME/Developments/Scripts/SpotifyControl.sh toggle 
bindsym $mod+Shift+greater $exec $HOME/Developments/Scripts/SpotifyControl.sh next 
bindsym $mod+Shift+less $exec $HOME/Developments/Scripts/SpotifyControl.sh prev 
bindsym $mod+Shift+bracketleft $exec $HOME/Developments/Scripts/SpotifyControl.sh decrease_vol 
bindsym $mod+Shift+bracketright $exec $HOME/Developments/Scripts/SpotifyControl.sh increase_vol 

# Emacs Keybindings
 # bindsym $mod+Shift+t $exec emacsclient -e '(bh/clock-in-organization-task-as-default)'
# bindsym $mod+m $exec emacsclient -e '(meta-clock-in)'
# bindsym $mod+t $exec emacsclient -e '(org-clock-in-last)'
# # bindsym $mod+y $exec emacsclient -e '(clock-in-afk)'
# bindsym $mod+y $exec emacsclient -e '(org-clock-out)' # To replace after a while
# bindsym $mod+Shift+f exec emacsclient --eval "(emacs-everywhere)" # Run emacs everywhere
# bindsym $mod+j exec emacsclient -e '(clock-in-journal)'

# Mpv Spawn
bindsym $mod+Shift+m $exec /home/silipwn/Developments/Scripts/mpv-spawn.sh
# MPD keybindings
# bindsym shift+XF86AudioPause exec mpc toggle
# bindsym shift+XF86AudioNext exec mpc next
# bindsym shift+XF86AudioPrev exec mpc prev
# MPD keybindings
bindsym Shift+F7 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh mtoggle
bindsym Shift+F8 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh mnext
bindsym Shift+F6 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh mprev
bindsym Shift+F5 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh mstop
# Playerctl binding
bindsym F7 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh toggle
bindsym F8 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh next
bindsym F6 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh prev
bindsym F5 $exec /home/silipwn/Developments/Scripts/remote-mpd-toggle.sh stop
bindsym F10 $exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Display brightness
# 2021-07-10T15:42:00+0530: Added brightnessctl : silipwn 
# 2021-07-10T20:53:44+0530: To change monitor(s) brightness : silipwn
# A driver called ddcci[dkms] was added 
bindsym XF86MonBrightnessUp exec brightnessctl --device='intel_backlight' set 10%+ && brightnessctl --device='ddcci*' set 10%+
bindsym XF86MonBrightnessDown exec brightnessctl --device='intel_backlight' set 10%- && brightnessctl --device='ddcci*' set 10%-
# start a terminal
bindsym $mod+Return exec kitty 

# kill focused window
bindsym $mod+c kill

# start rofi (a program launcher)
bindsym $mod+d exec rofi -show drun -show-icons
# bindsym $mod+d exec albert toggle
bindsym $mod+a exec rofi -show window -show-icons


# Buku scripts
bindsym $mod+b exec /home/silipwn/Developments/Scripts/buku_xsel
bindsym $mod+Shift+b exec /home/silipwn/Developments/Scripts/buku-rofi.sh
# bindsym $mod+g exec /home/silipwn/Developments/Scripts/buku-rofi/buku-rofi

# Search via Surf :)
bindsym $mod+q $exec --no-startup-id /home/silipwn/Developments/Scripts/surf.sh -b qutebrowser 
bindsym $mod+Shift+q $exec --no-startup-id /home/silipwn/Developments/Scripts/surf.sh -b firefox
bindsym $mod+Shift+w $exec --no-startup-id /home/silipwn/Developments/Scripts/surf.sh -b chromium
# bindsym $mod+Shift+w $exec --no-startup-id /home/silipwn/Developments/Scripts/surf.sh -s google
bindsym $mod+o $exec --no-startup-id /home/silipwn/Developments/Scripts/his-surf.sh

# Screenshots
# bindsym $mod+Shift+Print $exec flameshot gui
# 2021-10-31T10:11:59-0400: silipwn: Ensuring same shortcit on mac and Linnux
bindsym $mod+s $exec flameshot gui
# /home/silipwn/Developments/Scripts/scr-print-sel.sh
bindsym $mod+Print $exec /home/silipwn/Developments/Scripts/scr-print.sh
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
# bindsym $mod+Shift+j move left
# bindsym $mod+Shift+k move down
# bindsym $mod+Shift+l move up
# bindsym $mod+Shift+semicolon move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+g split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+t layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# Sticky toggle
bindsym $mod+Shift+s sticky toggle

# focus the parent container
bindsym $mod+Shift+a focus parent
# https://www.reddit.com/r/i3wm/comments/8w2xlt/dont_focus_sticky_floating_window_when_switching/
set $focus_follow_mouse no
# focus the child container
bindsym $mod+Shift+d focus child

# For the scrachtpad 
bindsym $mod+Shift+Escape move scratchpad

# Show the first scratchpad window
bindsym $mod+Escape [class="kitty"] scratchpad show; move position center

# MPV only 
bindsym $mod+p [class="mpv"] scratchpad show; move position center

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
# set $ws1  Chrome
# set $ws2 2
# set $ws3   Code
# set $ws4  Control
# set $ws5 5
# set $ws6 6
# set $ws7 7
# set $ws8 8
# set $ws9  Telegram
# set $ws10   top
# set $ws11 11
# set $ws12 12
# set $ws13 13
# set $ws14 14
# set $ws15 15
# set $ws1337 1337
# set $ws7331 7331

# https://unix.stackexchange.com/questions/397269/i3wm-how-to-move-workspaces-between-monitors
# move focused workspace between monitors
bindsym $mod+Ctrl+greater move workspace to output right
bindsym $mod+Ctrl+less move workspace to output left

# switch to workspace
bindsym $mod+1 workspace number 1:
bindsym $mod+2 workspace number 2:
bindsym $mod+3 workspace number 3:
bindsym $mod+4 workspace number 4:
bindsym $mod+5 workspace number 5:
bindsym $mod+6 workspace number 6:
bindsym $mod+7 workspace number 7:
bindsym $mod+8 workspace number 8:
bindsym $mod+9 workspace number 9:
bindsym $mod+0 workspace number 10:
bindsym $mod+ctrl+1 workspace number 11:
bindsym $mod+ctrl+2 workspace number 12:
bindsym $mod+ctrl+3 workspace number 13:
bindsym $mod+ctrl+4 workspace number 14:
bindsym $mod+ctrl+5 workspace number 15:
bindsym $mod+minus workspace number 1337:
bindsym $mod+equal workspace number 7331:


# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1:
bindsym $mod+Shift+2 move container to workspace number 2:
bindsym $mod+Shift+3 move container to workspace number 3:
bindsym $mod+Shift+4 move container to workspace number 4:
bindsym $mod+Shift+5 move container to workspace number 5:
bindsym $mod+Shift+6 move container to workspace number 6:
bindsym $mod+Shift+7 move container to workspace number 7:
bindsym $mod+Shift+8 move container to workspace number 8:
bindsym $mod+Shift+9 move container to workspace number 9:
bindsym $mod+Shift+0 move container to workspace number 10:
bindsym $mod+shift+ctrl+1 move container to workspace number 11:
bindsym $mod+shift+ctrl+2 move container to workspace number 12:
bindsym $mod+shift+ctrl+3 move container to workspace number 13:
bindsym $mod+shift+ctrl+4 move container to workspace number 14:
bindsym $mod+shift+ctrl+5 move container to workspace number 15:
bindsym $mod+Shift+minus move container to workspace number 1337:
bindsym $mod+Shift+equal move container to workspace number 7331:

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

# Lock
bindsym $mod+Shift+l exec /home/silipwn/Developments/Scripts/lock.sh
# bindsym $mod+Shift+l exec /home/silipwn/Developments/Scripts/lock.sh
# Without clocking out
# bindsym $mod+Shift+Escape exec /home/silipwn/Developments/Scripts/lock.sh
# Screen switch
# bindsym $mod+p exec /home/silipwn/Developments/Scripts/screen-hdmi.sh
# bindsym $mod+Shift+p exec /home/silipwn/Developments/Scripts/c-lock.sh
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
       mode hide
       modifier None
       font pango:FiraCode 12
       tray_output none
       # output eDP-1
       # position top
       # output HDMI-1
       colors {
              separator #666666
              background #00000000
              statusline #dddddd
              # color           <border> <background> <text>
              focused_workspace #0088CC #0088CC #ffffff
              active_workspace #333333 #333333 #ffffff
              inactive_workspace #333333 #333333 #888888
              urgent_workspace #2f343a #900000 #ffffff
       }
       status_command /usr/bin/i3status-rs /home/silipwn/.config/i3status-rs/config.toml
       # status_command bumblebee-status -m  brightness nic network_traffic battery cpu time -p time.format="%H:%M CW:%V %dth %a" -t night-powerline
       # night-powerline
       # iceberg-contrast
       # Could always wal-powerline to integrate with the pywal wallpaper
}
bar {
        mode hide
        modifier None
        font pango:FiraCode 12
        position top
        # output HDMI-1
        colors {
              separator #666666
              background #00000000
              statusline #dddddd
              # color           <border> <background> <text>
              focused_workspace #0088CC #0088CC #ffffff
              active_workspace #333333 #333333 #ffffff
              inactive_workspace #333333 #333333 #888888
              urgent_workspace #2f343a #900000 #ffffff
        }
        status_command /usr/bin/i3status-rs /home/silipwn/.config/i3status-rs/sec-config.toml
        # status_command bumblebee-status -m title shell dunstctl pasink pasource playerctl disk -p shell.command='emacsclient -e "(i3-org-clock-indicator)" || echo "Emacs open?"' title.max='32' shell.interval=120 -t night-powerline
        # iceberg-contrast
}
bindsym $mod+z bar mode toggle
# wallpaper
# exec_always wal -i ~/Pictures/Wals
# exec_always feh --bg-fill ~/Pictures/Wals/Points.jpg
# exec feh --bg-fill --no-xinerama ~/Pictures/Wals/dual_score.jpg
exec feh --bg-fill $HOME/Pictures/Wals/data.jpg
# dropbox
exec dropbox
# Syncthings 
exec syncthing -no-browser
# exec xscreensaver
# exec_always emacs --daemon
# prime for GPU
# exec_always /usr/bin/prime-offload
# Notify
# exec_always /usr/lib/xfce4/notifyd/xfce4-notifyd
exec dunst
# DND
# bindsym $mod+x exec /home/silipwn/Developments/Scripts/DND.sh
bindsym $mod+x exec dunstctl set-paused toggle 
# Blueman
# exec --no-startup-id blueman-applet
# Flameshot for SS
exec --no-startup-id flameshot
# compton
exec_always picom --config $home/.config/picom/config
# Activity-Watch
# exec aw-qt
# IPC
# ipc-socket /tmp/.i3-ipc-socket
# blu bar issues
# Workspace assignment
workspace "1" output HDMI-1
workspace "2" output HDMI-1
workspace "3" output HDMI-1
workspace "4" output HDMI-1 
workspace "5" output HDMI-1
workspace "6" output HDMI-1 
workspace "7" output HDMI-1 
workspace "8" output HDMI-1
workspace "10" output primary
# Windows assignment
# for_window [class="^.*"] border pixel 2
# Pixel less :)
for_window [class="^.*"] border pixel 0
# assign [class="^mpv$"] 8
# assign [class="^research"] 1
# assign [class="^default"] 2
# assign [class="^Emacs"] 3:
assign [class="^discord"] 7:
# no_focus [class="^mpv$"]
for_window [class="^mpv$"] move scratchpad; resize set 640 480;
# Thu Jun 17 09:54:33 2021 Removing this since it messes up the below config
# ; resize set 480 480
# for_window [class="^mpv$"] move right 450px, move down 250px
# for_window [title=".*Emacs Everywhere.*"] floating enable

for_window [class="^KeePassXC$"] floating enable
# for_window [class="^Emacs$"] floating enable
for_window [title="_emacs scratchpad_" class="Emacs"] move scratchpad
# for_window [class="^Dclock$"] floating enable
# for_window [class="^Dclock$"] sticky enable
# for_window [class="^firefox$"] focus
for_window [class="^flameshot$"] floating enable
for_window [class="^flameshot$"] sticky enable
for_window [class="(?i)feh"] floating enable
for_window [window_role="pop-up"] floating enable
# gaps
gaps inner 5
gaps outer 3
# smart_borders on
# smart_gaps on # Causes the gaps to diminsh from side
# client.focused          #00ff00 #285577 #FFFFFF #2222cc   #2222cc
# Autostart stuff
# Add support for the auth agent
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
# Add support for alternating layouts?
exec python3 $HOME/Developments/Scripts/i3-alternating-layout/alternating_layouts.py
# exec env GDK_DPI_SCALE=1.25 firefox -P "default-meta" --class="research"
# exec firefox -P "default-meta" --class="research"
# exec emacs
exec playerctld daemon
exec optimus-manager-qt
# exec redshift
# exec emacsclient -n -c --frame-parameters "((name . \"_emacs scratchpad_\"))"
# Auto switcher
# exec_always prime-offload
# SystemD Stuff
# exec systemctl --user start mbsync.timer
# exec systemctl --user start mpd-mpris.service
# exec systemctl --user start log-org.timer
# exec dclock -bg black -fg lavender -led_off gray22 -miltime
